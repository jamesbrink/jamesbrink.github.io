---
import BaseLayout from '../layouts/BaseLayout.astro';
import Container from '../components/Container.astro';
import Photos from '../components/Photos.astro';
import Card from '../components/Card.astro';
import CardTitle from '../components/CardTitle.astro';
import CardDescription from '../components/CardDescription.astro';
import CardCta from '../components/CardCta.astro';
import CardEyebrow from '../components/CardEyebrow.astro';
import Button from '../components/Button.astro';
import { getCollection } from 'astro:content';

const posts = (await getCollection('blog'))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3);

function formatDate(date: Date): string {
  return date.toLocaleDateString('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
  });
}

// Work history
interface Job {
  company: string;
  role: string;
  logo: string;
  startYear: string;
  endYear: string;
}

const jobs: Job[] = [
  {
    company: 'Infosys',
    role: 'Technology Architect',
    logo: '/images/logos/infosys.svg',
    startYear: '2023',
    endYear: new Date().getFullYear().toString(),
  },
  {
    company: 'Quantierra',
    role: 'Principal Consultant',
    logo: '/images/logos/quantierra.svg',
    startYear: '2023',
    endYear: new Date().getFullYear().toString(),
  },
  {
    company: 'NFTCO/Unblocked',
    role: 'Site Reliability Engineer',
    logo: '/images/logos/unblocked.avif',
    startYear: '2022',
    endYear: '2023',
  },
  {
    company: 'Blockfolio/FTX',
    role: 'Site Reliability Engineer',
    logo: '/images/logos/ftx.svg',
    startYear: '2020',
    endYear: '2022',
  },
  {
    company: 'Kadima Ventures',
    role: 'Director of Infrastructure',
    logo: '/images/logos/kadima.png',
    startYear: '2017',
    endYear: '2019',
  },
  {
    company: 'GoDaddy',
    role: 'Site Reliability Engineer',
    logo: '/images/logos/godaddy.svg',
    startYear: '2015',
    endYear: '2016',
  },
  {
    company: 'Edward Jones',
    role: 'Systems Administrator II',
    logo: '/images/logos/edwardjones.svg',
    startYear: '2008',
    endYear: '2015',
  },
];

// Social links
const socialLinks = [
  {
    href: 'https://github.com/jamesbrink',
    label: 'Follow on GitHub',
    icon: 'github',
  },
  {
    href: 'https://linkedin.com/in/brinkjames',
    label: 'Follow on LinkedIn',
    icon: 'linkedin',
  },
  {
    href: 'https://twitter.com/brinkoo7',
    label: 'Follow on X',
    icon: 'x',
  },
  {
    href: 'https://bsky.app/profile/jamesbrink.bsky.social',
    label: 'Follow on Bluesky',
    icon: 'bluesky',
  },
  {
    href: 'https://medium.com/@jamesbrink',
    label: 'Follow on Medium',
    icon: 'medium',
  },
  {
    href: 'https://instagram.com/brink.james/',
    label: 'Follow on Instagram',
    icon: 'instagram',
  },
];
---

<BaseLayout
  title="Home"
  description="James Brink - SRE/DevOps Engineer, Infrastructure Automator, and Tinkerer of Terror"
>
  <Container class="mt-9">
    <div class="max-w-2xl">
      <h1 class="text-4xl font-bold tracking-tight text-zinc-800 sm:text-5xl dark:text-zinc-100">
        SRE/DevOps Engineer, Infrastructure Automator
      </h1>
      <p class="mt-2 text-lg text-teal-600 italic dark:text-teal-400">...and Tinkerer of Terror</p>
      <p class="mt-6 text-base text-zinc-600 dark:text-zinc-400">
        I'm James, a battle-hardened SRE/DevOps engineer who's spent decades making computers do
        things they'd rather not. My days are filled with breaking and fixing infrastructure,
        constantly switching between Terraform, NixOS, and whatever shiny tech caught my ADHD
        brain's attention this week. When I'm not debugging production at 2am, I'm outside debugging
        the universe through a telescope—because apparently staring at nebulae for hours in the
        desert heat is my idea of relaxation.
      </p>
      <!-- Open to Opportunities Banner -->
      <div
        class="mt-6 inline-flex items-center gap-2 rounded-full bg-teal-50 px-4 py-2 text-sm font-medium text-teal-700 ring-1 ring-teal-600/20 dark:bg-teal-500/10 dark:text-teal-400 dark:ring-teal-500/20"
      >
        <span class="relative flex h-2 w-2">
          <span
            class="absolute inline-flex h-full w-full animate-ping rounded-full bg-teal-400 opacity-75"
          ></span>
          <span class="relative inline-flex h-2 w-2 rounded-full bg-teal-500"></span>
        </span>
        Open to opportunities
        <a
          href="mailto:brink.james@gmail.com"
          class="ml-1 underline decoration-teal-500/50 underline-offset-2 hover:decoration-teal-500"
        >
          Get in touch
        </a>
      </div>

      <div class="mt-6 flex gap-6">
        {
          socialLinks.map((link) => (
            <a
              href={link.href}
              class="group -m-1 p-1"
              aria-label={link.label}
              target="_blank"
              rel="noopener noreferrer"
            >
              {link.icon === 'github' && (
                <svg
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  class="h-6 w-6 fill-zinc-500 transition group-hover:fill-zinc-600 dark:fill-zinc-400 dark:group-hover:fill-zinc-300"
                >
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M12 2C6.475 2 2 6.588 2 12.253c0 4.537 2.862 8.369 6.838 9.727.5.09.687-.218.687-.487 0-.243-.013-1.05-.013-1.91C7 20.059 6.35 18.957 6.15 18.38c-.113-.295-.6-1.205-1.025-1.448-.35-.192-.85-.667-.013-.68.788-.012 1.35.744 1.538 1.051.9 1.551 2.338 1.116 2.912.846.088-.666.35-1.115.638-1.371-2.225-.256-4.55-1.14-4.55-5.062 0-1.115.387-2.038 1.025-2.756-.1-.256-.45-1.307.1-2.717 0 0 .837-.269 2.75 1.051.8-.23 1.65-.346 2.5-.346.85 0 1.7.115 2.5.346 1.912-1.333 2.75-1.05 2.75-1.05.55 1.409.2 2.46.1 2.716.637.718 1.025 1.628 1.025 2.756 0 3.934-2.337 4.806-4.562 5.062.362.32.675.936.675 1.897 0 1.371-.013 2.473-.013 2.82 0 .268.188.589.688.486a10.039 10.039 0 0 0 4.932-3.74A10.447 10.447 0 0 0 22 12.253C22 6.588 17.525 2 12 2Z"
                  />
                </svg>
              )}
              {link.icon === 'linkedin' && (
                <svg
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  class="h-6 w-6 fill-zinc-500 transition group-hover:fill-zinc-600 dark:fill-zinc-400 dark:group-hover:fill-zinc-300"
                >
                  <path d="M18.335 18.339H15.67v-4.177c0-.996-.02-2.278-1.39-2.278-1.389 0-1.601 1.084-1.601 2.205v4.25h-2.666V9.75h2.56v1.17h.035c.358-.674 1.228-1.387 2.528-1.387 2.7 0 3.2 1.778 3.2 4.091v4.715zM7.003 8.575a1.546 1.546 0 01-1.548-1.549 1.548 1.548 0 111.547 1.549zm1.336 9.764H5.666V9.75H8.34v8.589zM19.67 3H4.329C3.593 3 3 3.58 3 4.297v15.406C3 20.42 3.594 21 4.328 21h15.338C20.4 21 21 20.42 21 19.703V4.297C21 3.58 20.4 3 19.666 3h.003z" />
                </svg>
              )}
              {link.icon === 'x' && (
                <svg
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  class="h-6 w-6 fill-zinc-500 transition group-hover:fill-zinc-600 dark:fill-zinc-400 dark:group-hover:fill-zinc-300"
                >
                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
                </svg>
              )}
              {link.icon === 'bluesky' && (
                <svg
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  class="h-6 w-6 fill-zinc-500 transition group-hover:fill-zinc-600 dark:fill-zinc-400 dark:group-hover:fill-zinc-300"
                >
                  <path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z" />
                </svg>
              )}
              {link.icon === 'medium' && (
                <svg
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  class="h-6 w-6 fill-zinc-500 transition group-hover:fill-zinc-600 dark:fill-zinc-400 dark:group-hover:fill-zinc-300"
                >
                  <path d="M13.54 12a6.8 6.8 0 01-6.77 6.82A6.8 6.8 0 010 12a6.8 6.8 0 016.77-6.82A6.8 6.8 0 0113.54 12zm7.42 0c0 3.54-1.51 6.42-3.38 6.42-1.87 0-3.39-2.88-3.39-6.42s1.52-6.42 3.39-6.42 3.38 2.88 3.38 6.42M24 12c0 3.17-.53 5.75-1.19 5.75-.66 0-1.19-2.58-1.19-5.75s.53-5.75 1.19-5.75C23.47 6.25 24 8.83 24 12z" />
                </svg>
              )}
              {link.icon === 'instagram' && (
                <svg
                  viewBox="0 0 24 24"
                  aria-hidden="true"
                  class="h-6 w-6 fill-zinc-500 transition group-hover:fill-zinc-600 dark:fill-zinc-400 dark:group-hover:fill-zinc-300"
                >
                  <path d="M12 3c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.418A4.412 4.412 0 0 0 4.51 4.511c-.5.5-.809 1.002-1.039 1.594-.222.572-.374 1.226-.418 2.184C3.01 9.25 3 9.556 3 12s.01 2.75.054 3.71c.044.959.196 1.613.418 2.185.23.592.538 1.094 1.039 1.595.5.5 1.002.808 1.594 1.038.572.222 1.226.374 2.184.418C9.25 20.99 9.556 21 12 21s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.412 4.412 0 0 0 1.595-1.038c.5-.5.808-1.002 1.038-1.594.222-.572.374-1.226.418-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 19.49 4.51c-.5-.5-1.002-.809-1.594-1.039-.572-.222-1.226-.374-2.184-.418C14.75 3.01 14.444 3 12 3zm0 1.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.421.163.72.358 1.036.673.315.315.51.615.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.67-.163.421-.358.72-.673 1.036a2.79 2.79 0 0 1-1.035.673c-.317.123-.794.27-1.671.31-.95.043-1.234.052-3.637.052s-2.688-.009-3.637-.052c-.877-.04-1.354-.187-1.67-.31a2.789 2.789 0 0 1-1.036-.673 2.79 2.79 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.95-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.163-.421.358-.72.673-1.036.315-.315.615-.51 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052z" />
                  <path d="M12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-7.622a4.622 4.622 0 1 0 0 9.244 4.622 4.622 0 0 0 0-9.244zm5.884-.182a1.08 1.08 0 1 1-2.16 0 1.08 1.08 0 0 1 2.16 0z" />
                </svg>
              )}
            </a>
          ))
        }
      </div>
    </div>
  </Container>

  <Photos />

  <!-- Recent Articles -->
  <Container class="mt-24 md:mt-28">
    <div class="mx-auto grid max-w-xl grid-cols-1 gap-y-20 lg:max-w-none lg:grid-cols-2">
      <div class="flex flex-col gap-16">
        <h2 class="text-2xl font-bold tracking-tight text-zinc-800 dark:text-zinc-100">
          Recent Articles
        </h2>
        {
          posts.map((post) => (
            <Card as="article">
              <CardTitle href={`/blog/${post.slug}/`}>{post.data.title}</CardTitle>
              <CardEyebrow as="time" dateTime={post.data.date.toISOString()} decorate>
                {formatDate(post.data.date)}
              </CardEyebrow>
              <CardDescription>{post.data.description}</CardDescription>
              <CardCta>Read article</CardCta>
            </Card>
          ))
        }
        <div class="mt-8">
          <Button href="/blog" variant="secondary"> View all articles </Button>
        </div>
      </div>
      <div class="space-y-10 lg:pl-16 xl:pl-24">
        <!-- Work/Resume section -->
        <div class="rounded-2xl border border-zinc-100 p-6 dark:border-zinc-700/40">
          <h2 class="flex text-sm font-semibold text-zinc-900 dark:text-zinc-100">
            <svg
              viewBox="0 0 24 24"
              fill="none"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              aria-hidden="true"
              class="h-6 w-6 flex-none"
            >
              <path
                d="M2.75 9.75a3 3 0 0 1 3-3h12.5a3 3 0 0 1 3 3v8.5a3 3 0 0 1-3 3H5.75a3 3 0 0 1-3-3v-8.5Z"
                class="fill-zinc-100 stroke-zinc-400 dark:fill-zinc-100/10 dark:stroke-zinc-500"
              ></path>
              <path
                d="M3 14.25h6.249c.484 0 .952-.002 1.316.319l.777.682a.996.996 0 0 0 1.316 0l.777-.682c.364-.32.832-.319 1.316-.319H21M8.75 6.5V4.75a2 2 0 0 1 2-2h2.5a2 2 0 0 1 2 2V6.5"
                class="stroke-zinc-400 dark:stroke-zinc-500"></path>
            </svg>
            <span class="ml-3">Work</span>
          </h2>
          <ol class="mt-6 space-y-4">
            {
              jobs.map((job) => (
                <li class="flex gap-4">
                  <div class="relative mt-1 flex h-10 w-10 flex-none items-center justify-center rounded-full bg-white shadow-md ring-1 shadow-zinc-800/5 ring-zinc-900/5 dark:bg-zinc-800 dark:ring-0">
                    <img
                      src={job.logo}
                      alt={`${job.company} logo`}
                      class="h-7 w-7 object-contain"
                    />
                  </div>
                  <dl class="flex flex-auto flex-wrap gap-x-2">
                    <dt class="sr-only">Company</dt>
                    <dd class="w-full flex-none text-sm font-medium text-zinc-900 dark:text-zinc-100">
                      {job.company}
                    </dd>
                    <dt class="sr-only">Role</dt>
                    <dd class="text-xs text-zinc-500 dark:text-zinc-400">{job.role}</dd>
                    <dt class="sr-only">Date</dt>
                    <dd
                      class="ml-auto text-xs text-zinc-400 dark:text-zinc-500"
                      aria-label={`${job.startYear} until ${job.endYear === new Date().getFullYear().toString() ? 'Present' : job.endYear}`}
                    >
                      <time datetime={job.startYear}>{job.startYear}</time>
                      <span aria-hidden="true">—</span>
                      <time datetime={job.endYear}>
                        {job.endYear === new Date().getFullYear().toString()
                          ? 'Present'
                          : job.endYear}
                      </time>
                    </dd>
                  </dl>
                </li>
              ))
            }
          </ol>
          <Button href="/resume" variant="secondary" class="group mt-6 w-full">
            View full resume
            <svg
              viewBox="0 0 16 16"
              fill="none"
              aria-hidden="true"
              class="h-4 w-4 stroke-zinc-400 transition group-active:stroke-zinc-600 dark:group-hover:stroke-zinc-50 dark:group-active:stroke-zinc-50"
            >
              <path
                d="M4.75 8.75 8 12.25m0 0 3.25-3.5M8 12.25v-8.5"
                stroke-width="1.5"
                stroke-linecap="round"
                stroke-linejoin="round"></path>
            </svg>
          </Button>
        </div>
      </div>
    </div>
  </Container>
</BaseLayout>
